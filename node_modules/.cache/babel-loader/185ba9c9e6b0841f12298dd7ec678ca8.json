{"ast":null,"code":"var _jsxFileName = \"/Users/emaalsevskaja/Desktop/darbs 2/src/app.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { Box, Modal } from '@mui/material';\nimport HousesService from './services/houses-service';\nimport { AddNewListing, HouseCard, ListingForm } from './components';\nimport { grey, red } from '@mui/material/colors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [houses, setHouses] = React.useState([]);\n  const [houseBeingEdited, setHouseBeingEdited] = React.useState(null);\n  const [modalOpen, setModalOpen] = React.useState(false);\n\n  const closeModal = () => {\n    setModalOpen(false);\n    setHouseBeingEdited(null);\n  };\n\n  const fetchAllHouses = async () => {\n    const fetchedHouses = await HousesService.fetchAll();\n    setHouses(fetchedHouses);\n  };\n\n  const createHouse = async houseProps => {\n    await HousesService.create(houseProps);\n    await fetchAllHouses();\n  };\n\n  const editHouse = id => {\n    const foundHouse = houses.find(house => house.id === id);\n    setHouseBeingEdited(foundHouse);\n    setModalOpen(true);\n  };\n\n  const updateHouse = async houseProps => {\n    await HousesService.update(houseBeingEdited.id, houseProps);\n    await fetchAllHouses();\n    closeModal();\n  };\n\n  const removeHouse = async id => {\n    await HousesService.remove(id);\n    fetchAllHouses();\n  };\n\n  React.useEffect(() => {\n    fetchAllHouses();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(AddNewListing, {\n      borderRadius: \"50%\",\n      openModal: () => setModalOpen(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        gap: {\n          xs: 4,\n          xxl: 0\n        },\n        pt: 2,\n        px: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        open: modalOpen,\n        onClose: closeModal,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            position: 'absolute',\n            backgroundColor: grey[300],\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)'\n          },\n          children: /*#__PURE__*/_jsxDEV(ListingForm, {\n            onSubmit: houseBeingEdited ? updateHouse : createHouse,\n            formTitle: houseBeingEdited ? 'Edit Listing' : 'New Listing',\n            submitText: houseBeingEdited ? 'Renew listing' : 'Create',\n            color: houseBeingEdited ? 'warning' : 'success',\n            initValues: houseBeingEdited,\n            backgroundColor: red\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 1,\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              flexDirection: 'column-reverse'\n            },\n            children: houses.map(_ref => {\n              let {\n                id,\n                title,\n                description,\n                city,\n                price,\n                img\n              } = _ref;\n              return /*#__PURE__*/_jsxDEV(Box, {\n                item: true,\n                xs: 6,\n                md: 5,\n                xl: 5,\n                children: /*#__PURE__*/_jsxDEV(HouseCard, {\n                  title: title,\n                  description: description,\n                  img: img,\n                  city: city,\n                  price: price,\n                  onDelete: () => removeHouse(id),\n                  onEdit: () => editHouse(id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 13\n                }, this)\n              }, id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 11\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"Jsh+HawLz7UYsxNnYSCeZJhudaE=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Box","Modal","HousesService","AddNewListing","HouseCard","ListingForm","grey","red","App","houses","setHouses","useState","houseBeingEdited","setHouseBeingEdited","modalOpen","setModalOpen","closeModal","fetchAllHouses","fetchedHouses","fetchAll","createHouse","houseProps","create","editHouse","id","foundHouse","find","house","updateHouse","update","removeHouse","remove","useEffect","gap","xs","xxl","pt","px","position","backgroundColor","top","left","transform","p","width","display","flexDirection","map","title","description","city","price","img"],"sources":["/Users/emaalsevskaja/Desktop/darbs 2/src/app.jsx"],"sourcesContent":["import * as React from 'react';\nimport { Box,  Modal } from '@mui/material';\nimport HousesService from './services/houses-service';\nimport { AddNewListing, HouseCard, ListingForm } from './components';\nimport { grey, red } from '@mui/material/colors';\n\nconst App = () => {\n  const [houses, setHouses] = React.useState([]);\n  const [houseBeingEdited, setHouseBeingEdited] = React.useState(null);\n  const [modalOpen, setModalOpen] = React.useState(false);\n\n  const closeModal = () => {\n    setModalOpen(false);\n    setHouseBeingEdited(null);\n  };\n  const fetchAllHouses = async () => {\n    const fetchedHouses = await HousesService.fetchAll();\n    setHouses(fetchedHouses);\n  };\n\n  const createHouse = async (houseProps) => {\n    await HousesService.create(houseProps);\n    await fetchAllHouses();\n  };\n\n  const editHouse = (id) => {\n    const foundHouse = houses.find((house) => house.id === id);\n    setHouseBeingEdited(foundHouse);\n    setModalOpen(true);\n  };\n\n  const updateHouse = async (houseProps) => {\n    await HousesService.update(houseBeingEdited.id, houseProps);\n    await fetchAllHouses();\n    closeModal();\n  };\n\n  const removeHouse = async (id) => {\n    await HousesService.remove(id);\n    fetchAllHouses();\n  };\n\n  React.useEffect(() => {\n    fetchAllHouses();\n  }, []);\n\n  return (\n    <Box>\n      <AddNewListing borderRadius=\"50%\" openModal={() => setModalOpen(true)} />\n    <Box sx={{\n      gap: { xs: 4, xxl: 0 },\n      pt: 2,\n      px: 2,\n    }}\n    >\n      <Modal open={modalOpen} onClose={closeModal}>\n        <Box sx={{\n          position: 'absolute',\n          backgroundColor: grey[300],\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n        }}\n        >\n          <ListingForm\n            onSubmit={houseBeingEdited ? updateHouse : createHouse}\n            formTitle={houseBeingEdited ? 'Edit Listing' : 'New Listing'}\n            submitText={houseBeingEdited ? 'Renew listing' : 'Create'}\n            color={houseBeingEdited ? 'warning' : 'success'}\n            initValues={houseBeingEdited}\n            backgroundColor={red}\n          />\n        </Box>\n      </Modal>\n\n      <Box>\n        <Box sx={{\n          p: 1,\n          width: '100%',\n        }}\n        >\n          <Box sx={{\n            display: 'flex',\n            flexDirection: 'column-reverse',\n          }}\n          >\n        {houses.map(({\n          id,\n          title,\n          description,\n          city,\n          price,\n          img,\n        }) => (\n          <Box key={id} item xs={6} md={5} xl={5}>\n            <HouseCard\n              title={title}\n              description={description}\n                  img={img}\n                  city={city}\n                  price={price}\n                  onDelete={() => removeHouse(id)}\n                  onEdit={() => editHouse(id)}\n            />\n          </Box>\n        ))}\n      </Box>\n      </Box>\n    </Box>\n    </Box>\n    </Box>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}