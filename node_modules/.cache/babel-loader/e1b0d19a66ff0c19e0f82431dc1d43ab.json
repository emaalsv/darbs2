{"ast":null,"code":"const serverAddress = 'http://localhost:3000';\n\nconst formatHouse = _ref => {\n  let {\n    id,\n    title,\n    description,\n    price,\n    img,\n    cityId,\n    city\n  } = _ref;\n  return {\n    id,\n    title,\n    description,\n    price,\n    img,\n    cityId,\n    city: city.title\n  };\n};\n\nconst fetchAll = async () => {\n  const response = await fetch(`${serverAddress}/houses?_expand=city`);\n  const houses = await response.json();\n  return houses.map(formatHouse);\n};\n\nconst create = async houseProps => {\n  const response = await fetch(`${serverAddress}/houses`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(houseProps)\n  });\n  const house = await response.json();\n  return house;\n};\n\nconst update = async (id, houseProps) => {\n  const response = await fetch(`${serverAddress}/houses/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(houseProps)\n  });\n  const house = await response.json();\n  return house;\n};\n\nconst remove = async id => {\n  await fetch(`${serverAddress}/houses/${id}`, {\n    method: 'DELETE'\n  });\n  return true;\n};\n\nconst fetchCities = async () => {\n  const response = await fetch(`${serverAddress}/cities`);\n  const cities = await response.json();\n  return cities;\n};\n\nconst ListingService = {\n  fetchAll,\n  create,\n  update,\n  remove,\n  fetchCities\n};\nexport default ListingService;","map":{"version":3,"names":["serverAddress","formatHouse","id","title","description","price","img","cityId","city","fetchAll","response","fetch","houses","json","map","create","houseProps","method","headers","body","JSON","stringify","house","update","remove","fetchCities","cities","ListingService"],"sources":["/Users/emaalsevskaja/Desktop/darbs 2/src/services/houses-service.js"],"sourcesContent":["const serverAddress = 'http://localhost:3000';\n\nconst formatHouse = ({\n  id,\n  title,\n  description,\n  price,\n  img,\n  cityId,\n  city,\n}) => ({\n  id,\n  title,\n  description,\n  price,\n  img,\n  cityId,\n  city: city.title,\n});\n\nconst fetchAll = async () => {\n  const response = await fetch(`${serverAddress}/houses?_expand=city`);\n  const houses = await response.json();\n\n  return houses.map(formatHouse);\n};\n\nconst create = async (houseProps) => {\n  const response = await fetch(`${serverAddress}/houses`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(houseProps),\n  });\n\n  const house = await response.json();\n\n  return house;\n};\n\n\nconst update = async (id, houseProps) => {\n  const response = await fetch(`${serverAddress}/houses/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(houseProps),\n  });\n\n  const house = await response.json();\n\n  return house;\n};\n\nconst remove = async (id) => {\n  await fetch(`${serverAddress}/houses/${id}`, {\n    method: 'DELETE',\n  });\n\n  return true;\n};\n\nconst fetchCities = async () => {\n  const response = await fetch(`${serverAddress}/cities`);\n  const cities = await response.json();\n\n  return cities;\n};\n\nconst ListingService = {\n  fetchAll,\n  create,\n  update,\n  remove,\n  fetchCities,\n};\n\nexport default ListingService;"],"mappings":"AAAA,MAAMA,aAAa,GAAG,uBAAtB;;AAEA,MAAMC,WAAW,GAAG;EAAA,IAAC;IACnBC,EADmB;IAEnBC,KAFmB;IAGnBC,WAHmB;IAInBC,KAJmB;IAKnBC,GALmB;IAMnBC,MANmB;IAOnBC;EAPmB,CAAD;EAAA,OAQb;IACLN,EADK;IAELC,KAFK;IAGLC,WAHK;IAILC,KAJK;IAKLC,GALK;IAMLC,MANK;IAOLC,IAAI,EAAEA,IAAI,CAACL;EAPN,CARa;AAAA,CAApB;;AAkBA,MAAMM,QAAQ,GAAG,YAAY;EAC3B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEX,aAAc,sBAAlB,CAA5B;EACA,MAAMY,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;EAEA,OAAOD,MAAM,CAACE,GAAP,CAAWb,WAAX,CAAP;AACD,CALD;;AAOA,MAAMc,MAAM,GAAG,MAAOC,UAAP,IAAsB;EACnC,MAAMN,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEX,aAAc,SAAlB,EAA4B;IACtDiB,MAAM,EAAE,MAD8C;IAEtDC,OAAO,EAAE;MACP,gBAAgB;IADT,CAF6C;IAKtDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,UAAf;EALgD,CAA5B,CAA5B;EAQA,MAAMM,KAAK,GAAG,MAAMZ,QAAQ,CAACG,IAAT,EAApB;EAEA,OAAOS,KAAP;AACD,CAZD;;AAeA,MAAMC,MAAM,GAAG,OAAOrB,EAAP,EAAWc,UAAX,KAA0B;EACvC,MAAMN,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEX,aAAc,WAAUE,EAAG,EAA/B,EAAkC;IAC5De,MAAM,EAAE,OADoD;IAE5DC,OAAO,EAAE;MACP,gBAAgB;IADT,CAFmD;IAK5DC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,UAAf;EALsD,CAAlC,CAA5B;EAQA,MAAMM,KAAK,GAAG,MAAMZ,QAAQ,CAACG,IAAT,EAApB;EAEA,OAAOS,KAAP;AACD,CAZD;;AAcA,MAAME,MAAM,GAAG,MAAOtB,EAAP,IAAc;EAC3B,MAAMS,KAAK,CAAE,GAAEX,aAAc,WAAUE,EAAG,EAA/B,EAAkC;IAC3Ce,MAAM,EAAE;EADmC,CAAlC,CAAX;EAIA,OAAO,IAAP;AACD,CAND;;AAQA,MAAMQ,WAAW,GAAG,YAAY;EAC9B,MAAMf,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEX,aAAc,SAAlB,CAA5B;EACA,MAAM0B,MAAM,GAAG,MAAMhB,QAAQ,CAACG,IAAT,EAArB;EAEA,OAAOa,MAAP;AACD,CALD;;AAOA,MAAMC,cAAc,GAAG;EACrBlB,QADqB;EAErBM,MAFqB;EAGrBQ,MAHqB;EAIrBC,MAJqB;EAKrBC;AALqB,CAAvB;AAQA,eAAeE,cAAf"},"metadata":{},"sourceType":"module"}